# Run Immich Application Container and Its Services Using Podman, Managed with Systemd & Quadlet

## Make Commands

Deploy Immich and its services as a pod and start using systemd service:

```bash
make install
```

Remove the Immich pod and its services without deleting data volumes:

```bash
make remove
```

Remove the Immich pod and its services along with its data volumes:

```bash
make clean-remove
```

Debug the systemd service file generated by Quadlet:

```bash
make debug
```

> **Note:**
> Quadlet binary is located (Change in the Makefile)
>
> - For Debian-based systems use `/usr/libexec/podman/quadlet`
> - For Fedora-based systems use `/usr/libexec/podman/quadlet`
> - For Arch-based systems use `/usr/lib/podman/quadlet`

## Manage Using Systemd

Mask the service to prevent it from starting automatically:

```bash
systemctl --user mask immich-pod.service
```

Unmask the service to allow it to start automatically:

```bash
systemctl --user unmask immich-pod.service
```

## Network Configuration

Immich is accessible on the local machine via:

- **Immich Application**: [http://localhost:2283](http://localhost:2283)
- **Adminer Database Management**: [http://localhost:2284](http://localhost:2284)

Adminer is installed alongside Immich to facilitate the viewing and management of the Immich database through a web browser interface.

## Using Adminer to Manage the Immich Database

Adminer is a full-featured database management tool available through a web application.

To access Adminer:

1. Open your web browser.
2. Navigate to [http://localhost:2284](http://localhost:2284).
3. Log in with the appropriate credentials to manage the Immich database.

For more detailed instructions and best practices on using Adminer, refer to the [official Adminer documentation](https://www.adminer.org/).

## Database Password

A password file (defined as `DB_PASS_FILE` in the Makefile) for the database will be automatically generated during the installation process at the root of the directory. If one already exists, it will be used.

## Define External Media Path

To define or edit the external media path, modify the following files:

- `/containers/immich-server.container`
- `/containers/immich-microservices.container`
